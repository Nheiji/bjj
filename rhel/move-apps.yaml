---
- name: move folder apps
  hosts: all
  gather_facts: true
  become: true

  tasks:
    - name: read file from Server A
      delegate_to: "{{ ipsource }}"
      slurp:
        src: /tmp/backup-upload.tar.gz
      register: file_slurp

    - name: write file to Server B
      delegate_to: "{{ ipdestination }}"
      copy:
        content: "{{ file_slurp.content | b64decode }}"
        dest: "/var/www/html/{{ file_slurp.source | basename }}"

